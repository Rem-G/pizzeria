{"ast":null,"code":"var _jsxFileName = \"/Users/remi/Desktop/Polytech/4A/INFO734/TP/pizzeria-react/src/components/cards.js\";\nimport React from 'react';\nimport CardPizza from \"./cardPizza\";\nexport default function Cards({\n  pizzas,\n  addPizzas\n}) {\n  const getPizzas = () => {\n    // const HTTP = new XMLHttpRequest();\n    // const url = \"http://localhost:3000/api/v1/readPizzas/\";\n    // HTTP.open(\"GET\", url);\n    // HTTP.send();\n    // HTTP.onreadystatechange=(e)=>{\n    //   const res = JSON.parse(HTTP.responseText);\n    //   addPizzas(res.map((item) => {\n    //     return [...pizzas, {nom:item.nom, pate:item.pate, base:item.base, prix:item.prix, calzone:item.calzone, ingredients:item.ingredients, id:item._id}];\n    //   }));\n    // }\n    fetch('http://localhost:3000/api/v1/readPizzas/').then(res => res.json()).then(pizzas => addPizzas(pizzas.map(item => {\n      console.log([...pizzas, {\n        nom: item.nom,\n        pate: item.pate,\n        base: item.base,\n        prix: item.prix,\n        calzone: item.calzone,\n        ingredients: item.ingredients,\n        id: item._id\n      }]);\n      pizzas.push({\n        nom: item.nom,\n        pate: item.pate,\n        base: item.base,\n        prix: item.prix,\n        calzone: item.calzone,\n        ingredients: item.ingredients,\n        id: item._id\n      });\n      return pizzas; //return [...pizzas, {nom:item.nom, pate:item.pate, base:item.base, prix:item.prix, calzone:item.calzone, ingredients:item.ingredients, id:item._id}];\n    }), () => console.log(\"Pizzas fetched\", pizzas)));\n  };\n\n  if (pizzas.length === 0) {\n    getPizzas();\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 11\n    }\n  }, \"Pizzas\"), /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 11\n    }\n  }, pizzas.map((value, index) => {\n    return /*#__PURE__*/React.createElement(CardPizza, {\n      key: index,\n      pizza: value[0],\n      pizzas: pizzas,\n      addPizzas: addPizzas,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 20\n      }\n    });\n  })));\n}","map":{"version":3,"sources":["/Users/remi/Desktop/Polytech/4A/INFO734/TP/pizzeria-react/src/components/cards.js"],"names":["React","CardPizza","Cards","pizzas","addPizzas","getPizzas","fetch","then","res","json","map","item","console","log","nom","pate","base","prix","calzone","ingredients","id","_id","push","length","value","index"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAOC,SAAP,MAAsB,aAAtB;AAGA,eAAe,SAASC,KAAT,CAAe;AAACC,EAAAA,MAAD;AAASC,EAAAA;AAAT,CAAf,EAAoC;AAEjD,QAAMC,SAAS,GAAG,MAAM;AACtB;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEAC,IAAAA,KAAK,CAAC,0CAAD,CAAL,CACCC,IADD,CACMC,GAAG,IAAKA,GAAG,CAACC,IAAJ,EADd,EAECF,IAFD,CAEMJ,MAAM,IAAIC,SAAS,CAACD,MAAM,CAACO,GAAP,CAAYC,IAAD,IAAU;AACzCC,MAAAA,OAAO,CAACC,GAAR,CAAY,CAAC,GAAGV,MAAJ,EAAY;AAACW,QAAAA,GAAG,EAACH,IAAI,CAACG,GAAV;AAAeC,QAAAA,IAAI,EAACJ,IAAI,CAACI,IAAzB;AAA+BC,QAAAA,IAAI,EAACL,IAAI,CAACK,IAAzC;AAA+CC,QAAAA,IAAI,EAACN,IAAI,CAACM,IAAzD;AAA+DC,QAAAA,OAAO,EAACP,IAAI,CAACO,OAA5E;AAAqFC,QAAAA,WAAW,EAACR,IAAI,CAACQ,WAAtG;AAAmHC,QAAAA,EAAE,EAACT,IAAI,CAACU;AAA3H,OAAZ,CAAZ;AACElB,MAAAA,MAAM,CAACmB,IAAP,CAAY;AAACR,QAAAA,GAAG,EAACH,IAAI,CAACG,GAAV;AAAeC,QAAAA,IAAI,EAACJ,IAAI,CAACI,IAAzB;AAA+BC,QAAAA,IAAI,EAACL,IAAI,CAACK,IAAzC;AAA+CC,QAAAA,IAAI,EAACN,IAAI,CAACM,IAAzD;AAA+DC,QAAAA,OAAO,EAACP,IAAI,CAACO,OAA5E;AAAqFC,QAAAA,WAAW,EAACR,IAAI,CAACQ,WAAtG;AAAmHC,QAAAA,EAAE,EAACT,IAAI,CAACU;AAA3H,OAAZ;AACA,aAAOlB,MAAP,CAHuC,CAIxC;AACD,KALoB,CAAD,EAKhB,MAAMS,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BV,MAA9B,CALU,CAFzB;AAQD,GAtBD;;AAwBA,MAAIA,MAAM,CAACoB,MAAP,KAAkB,CAAtB,EAAwB;AACtBlB,IAAAA,SAAS;AACV;;AAED,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACCF,MAAM,CAACO,GAAP,CAAW,CAACc,KAAD,EAAQC,KAAR,KAAkB;AAC5B,wBAAO,oBAAC,SAAD;AAAW,MAAA,GAAG,EAAEA,KAAhB;AAAuB,MAAA,KAAK,EAAED,KAAK,CAAC,CAAD,CAAnC;AAAwC,MAAA,MAAM,EAAErB,MAAhD;AAAwD,MAAA,SAAS,EAAEC,SAAnE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACA,GAFD,CADD,CAFJ,CADJ;AAWD","sourcesContent":["import React from 'react';\n\nimport CardPizza from \"./cardPizza\";\n\n\nexport default function Cards({pizzas, addPizzas}) {\n\n  const getPizzas = () => {\n    // const HTTP = new XMLHttpRequest();\n\n    // const url = \"http://localhost:3000/api/v1/readPizzas/\";\n    // HTTP.open(\"GET\", url);\n    // HTTP.send();\n\n    // HTTP.onreadystatechange=(e)=>{\n    //   const res = JSON.parse(HTTP.responseText);\n    //   addPizzas(res.map((item) => {\n    //     return [...pizzas, {nom:item.nom, pate:item.pate, base:item.base, prix:item.prix, calzone:item.calzone, ingredients:item.ingredients, id:item._id}];\n    //   }));\n    // }\n\n    fetch('http://localhost:3000/api/v1/readPizzas/')\n    .then(res => (res.json()))\n    .then(pizzas => addPizzas(pizzas.map((item) => {\n          console.log([...pizzas, {nom:item.nom, pate:item.pate, base:item.base, prix:item.prix, calzone:item.calzone, ingredients:item.ingredients, id:item._id}]);\n            pizzas.push({nom:item.nom, pate:item.pate, base:item.base, prix:item.prix, calzone:item.calzone, ingredients:item.ingredients, id:item._id});\n            return pizzas;\n           //return [...pizzas, {nom:item.nom, pate:item.pate, base:item.base, prix:item.prix, calzone:item.calzone, ingredients:item.ingredients, id:item._id}];\n         }), () => console.log(\"Pizzas fetched\", pizzas)));\n  }\n\n  if (pizzas.length === 0){\n    getPizzas();\n  }\n\n  return (\n      <div>\n          <h2>Pizzas</h2>\n          <ul>\n          {pizzas.map((value, index) => {\n            return <CardPizza key={index} pizza={value[0]} pizzas={pizzas} addPizzas={addPizzas}/>\n           })}\n        </ul>\n          \n      </div>\n  )\n}"]},"metadata":{},"sourceType":"module"}